<!DOCTYPE html>
<html>
<head>
<title>Valentine‚Äôs Day ‚ù§Ô∏è</title>
<link rel="stylesheet" href="style.css">

<style>

#content{
  margin-top:20px;
}

/* envelope */
#envelope{
  width:140px;
  cursor:pointer;
  margin-top:20px;
  transition:transform 0.3s;
}

#envelope:hover{
  transform:scale(1.1);
}

#openText{
  margin-top:10px;
  font-size:18px;
}

/* message */
#messageBox{
  max-width:600px;
  margin-top:20px;
  display:none;
}

#typeText{
  white-space:pre-line;
  font-size:20px;
  min-height:140px;
}

/* hold button */
#holdBtn{
  margin-top:20px;
  display:none;
}

/* final reveal */
#finalBox{
  margin-top:30px;
  display:none;
}

/* glowing button */
#memBtn{
  animation:glow 1.5s infinite alternate;
}

@keyframes glow{
  from{box-shadow:0 0 10px pink;}
  to{box-shadow:0 0 25px red;}
}

</style>

</head>
<body>

<audio autoplay loop src="music/love.mp3" id="bgm"></audio>

<div class="container">

<h1>‚ù§Ô∏è Happy Valentine‚Äôs Day ‚ù§Ô∏è</h1>

<p id="timer"></p>

<button id="unlock" style="display:none">Unlock ‚ù§Ô∏è</button>


<div id="content" class="hidden">

<img src="photos/heart.png" id="envelope">

<p id="openText">Click to open my heart üíå</p>


<div id="messageBox">

<p id="typeText"></p>

<button id="holdBtn">Hold to unlock my heart ‚ù§Ô∏è</button>

</div>


<div id="finalBox">

<h2>
You are my today,<br>
my tomorrow,<br>
and my forever ‚ù§Ô∏è
</h2>

<button id="memBtn"
onclick="location.href='memories.html'">

Our Memories ‚ù§Ô∏è

</button>

</div>

</div>

</div>


<script src="hearts.js"></script>
<script src="timer.js"></script>

<script>

startCountdown(new Date(2026, 1, 14, 0, 0, 0));

document.getElementById("bgm").volume=0.07;


const unlockBtn=document.getElementById("unlock");
const content=document.getElementById("content");

const envelope=document.getElementById("envelope");
const openText=document.getElementById("openText");

const messageBox=document.getElementById("messageBox");
const typeText=document.getElementById("typeText");

const holdBtn=document.getElementById("holdBtn");

const finalBox=document.getElementById("finalBox");


/* unlock */
unlockBtn.onclick=()=>{

  if(window.unlock) window.unlock();

  unlockBtn.style.display="none";

  document.getElementById("timer").style.display="none";

  content.classList.remove("hidden");

};


/* click envelope */
envelope.onclick=()=>{

  envelope.style.display="none";

  openText.style.display="none";

  messageBox.style.display="block";

  startTyping();

};


/* typewriter */
const msg=`Aaj koi game nahi,

koi test nahi ü•π

Bas dil se ek baat kehni hai ‚ù§Ô∏è

Thank you for choosing me,

loving me,

and being my forever üíç`;

let i=0;

function startTyping(){

  function type(){

    if(i<msg.length){

      typeText.innerHTML+=msg.charAt(i);

      i++;

      setTimeout(type,150);

    }
    else{

      holdBtn.style.display="inline-block";

    }

  }

  type();
  cancelHold();
}



/* hold unlock */
let holdTimer;

holdBtn.onmousedown=()=>{

  holdBtn.innerText="Unlocking my heart... ‚ù§Ô∏è";

  holdTimer=setTimeout(()=>{

    holdBtn.style.display="none";

    finalBox.style.display="block";

    heartBurst();

  },3000);

};

holdBtn.onmouseup=cancelHold;
holdBtn.onmouseleave=cancelHold;

function cancelHold(){

  clearTimeout(holdTimer);

  holdBtn.innerText="Hold for a gift ‚ù§Ô∏è";

}



/* hearts */
function heartBurst(){

  for(let i=0;i<50;i++){

    const heart=document.createElement("div");

    heart.className="heart";

    heart.style.left=Math.random()*100+"vw";

    heart.style.animationDuration=(2+Math.random()*2)+"s";

    document.body.appendChild(heart);

    setTimeout(()=>heart.remove(),4000);

  }

}

</script>

</body>
</html>